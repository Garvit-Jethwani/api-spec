# Test generated by RoostGPT for test credential-artillery-test using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=6dd436357d

---
config:
  target: "{{ $processEnvironment.API_HOST }}"
  expect: true
  payload:
    me_patch_others.csv:
      skipHeader: true
      fields:
        - name
        - image
        - settings
scenarios:
  - scenario: Failure-Inducing Requests
    flow:
      - log: Sending a request with an invalid URL
        request:
          url: /me/invalid-url
          method: PATCH
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          expect:
            statusCode: 404
      - think: 500
      - log: Sending a request with an invalid payload
        request:
          url: /me
          method: PATCH
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            name: "John Doe"
            image: "invalid-image-data"
          expect:
            statusCode: 400
            body:
              hasProperty: error
              hasProperty: description
      - think: 500
      - log: Sending a request with missing authorization
        request:
          url: /me
          method: PATCH
          payload:
            name: "John Doe"
            image: "data:image/jpeg;base64,<clipped>"
          expect:
            statusCode: 401
            body:
              hasProperty: error
              hasProperty: description
      - think: 500
      - log: Sending a request with invalid authorization
        request:
          url: /me
          method: PATCH
          headers:
            Token: invalid-token
          payload:
            name: "John Doe"
            image: "data:image/jpeg;base64,<clipped>"
          expect:
            statusCode: 401
            body:
              hasProperty: error
              hasProperty: description
