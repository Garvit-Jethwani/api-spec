# Test generated by RoostGPT for test credential-artillery-test using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=c211c7fbe6

---
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  payload:
    csv: alert_post_others.csv
    skipHeader: true

scenarios:
  - scenario: Failure Cases
    - get:
        url: /api/device/camera/feature/alert
        description: Attempt GET on POST endpoint
        expect:
          statusCode: 405
          contentType: application/json
    - post:
        url: /api/device/camera/feature/alert
        description: Send empty payload
        expect:
          statusCode: 400
    - post:
        url: /api/device/camera/feature/alert
        description: Send invalid JSON payload
        payload: '{"sn": "0904H210008", "cameraId": "c79794c4-829d-11ee-b962-0242ac120002", "timestamp": "2023-11-29T09:12:33.001Z", "confidence": 0.67, "alert": "intrusion", "subAlert": "person", "photoUrl": "video", "videoUrl": "https://ipfront.com"}'
        expect:
          statusCode: 400
    - post:
        url: /api/device/camera/feature/alert
        description: Send invalid URL in videoUrl field
        payload: '{"sn": "0904H210008", "cameraId": "c79794c4-829d-11ee-b962-0242ac120002", "timestamp": "2023-11-29T09:12:33.001Z", "confidence": 0.67, "alert": "intrusion", "subAlert": "person", "photoUrl": "video", "videoUrl": "invalidurl"}'
        expect:
          statusCode: 400
    - post:
        url: /api/device/camera/feature/alert
        description: Send invalid timestamp format
        payload: '{"sn": "0904H210008", "cameraId": "c79794c4-829d-11ee-b962-0242ac120002", "timestamp": "2023-11-29T09:12:33", "confidence": 0.67, "alert": "intrusion", "subAlert": "person", "photoUrl": "video", "videoUrl": "https://ipfront.com"}'
        expect:
          statusCode: 400
    - think: 500
