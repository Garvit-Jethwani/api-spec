# Test generated by RoostGPT for test qlue-artillery using AI Type Open AI and AI Model gpt-4-1106-preview


# Test generated for /device/list_get for http method type GET in artillery framework

# RoostTestHash=fe16559128


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "list_get_success.csv"
    fields:
      - "houseId"
    skipHeader: true
  environments:
    development:
      API_HOST: "http://dev.api.example.com"
    production:
      API_HOST: "https://api.example.com"

scenarios:
  - name: "Validate correct API behavior with valid input payloads"
    flow:
      # Get the device list that registered with the house
      - get:
          url: "/device/list?houseId={{ houseId }}"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            # Confirming the response status code is 200
            - statusCode: 200
            # Confirming the presence of the 'jetson_uuid' property in each item of the array
            - hasProperty: "jetson_uuid"
          log: "Request to get the device list for a specific house"
      - think: 1

      # Additional requests can be added below following the same pattern
      # - post:
      #     url: "/device/register"
      #     headers:
      #       Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
      #     json:
      #       deviceName: "New Device"
      #       houseId: "{{ houseId }}"
      #     expect:
      #       - statusCode: 201
      #     log: "Request to register a new device to the house"
      # - think: 1
